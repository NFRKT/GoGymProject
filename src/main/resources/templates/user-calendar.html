<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Kalendarz Treningowy</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/5.11.3/main.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato|Montserrat">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@5.11.3/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@5.11.3/main.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.10/index.global.min.js"></script>
    <style>
    html, body {
      height: 100%;
      margin: 0;
      font-family: "Lato", sans-serif;
      display: flex;
      flex-direction: column;
      background-color: #f4f4f4;
    }
    .container {
      max-width: 1200px;
      width: 100%;
      margin: 40px auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      padding: 20px;
      flex: 1;
    }
    h2 {
      text-align: center;
      margin-bottom: 20px;
      color: #303a53;
    }
    h1 {
      color: #303a53;
      text-align: center;
      margin-bottom: 20px;
    }
    #calendar {
      max-width: 100%;
      margin: 0 auto;
    }
    @media screen and (max-width: 768px) {
      .container {
        padding: 20px;
      }
      h1, h2 {
        font-size: 20px;
      }
      .nav-links a, .nav-links button {
        font-size: 12px;
        padding: 8px 10px;
      }
    }
    .back-link {
      display: inline-block;
      margin-top: 30px;
      padding: 10px 15px;
      background-color: #303a53;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s ease;
    }
    .back-link:hover {
      background-color: #4a5568;
    }
    .fc-daygrid-day { cursor: pointer; }
  </style>
</head>
<body>
<div th:replace="~{header :: header}"></div>
<div class="container">
    <a href="/home" class="back-link">Powrót</a>
    <h1>Kalendarz Treningowy</h1>
    <div id="calendar"></div>
</div>
<div th:replace="~{footer :: footer}"></div>
<script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function () {
            var calendarEl = document.getElementById('calendar');

            var trainingDays = /*[[${trainingDays}]]*/ [];
            var restDays = /*[[${restDays}]]*/ [];
            var workoutDays = /*[[${workoutDays}]]*/ [];

            var events = [];

            trainingDays.forEach(date => {
                events.push({
                    title: "Dzień Treningowy",
                    start: date,
                    color: "#007bff"
                });
            });

            restDays.forEach(date => {
                events.push({
                    title: "Dzień Regeneracyjny",
                    start: date,
                    color: "#28a745"
                });
            });

            workoutDays.forEach(date => {
                events.push({
                    title: "Workout",
                    start: date,
                    color: "#ffc107"
                });
            });

            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'dayGridMonth',
                locale: 'pl',
                events: events,
                dateClick: function(info) {
                    alert('Wybrana data: ' + info.dateStr);
                }
            });

            calendar.render();
        });
    </script>
</body>
</html>







